<div class="mb-4 h2 text-success">Sign up</div>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <!-- Full Name -->
  <div class="mb-3">
    <input
      type="text"
      class="form-control bg-body-secondary"
      placeholder="Full Name"
      formControlName="fullName"
    />
    <div class="error-feedback text-danger mt-1"
      *ngIf="fullName?.touched && fullName?.errors">
      <ng-container [ngSwitch]="fullName?.errors | firstkey">
        <div *ngSwitchCase="'required'">
          Please enter full name
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Email -->
  <div class="mb-3">
    <input
      type="email"
      class="form-control bg-body-secondary"
      placeholder="uk@abc.com"
      formControlName="email"
    />
    <div class="error-feedback text-danger mt-1"
      *ngIf="email?.touched && email?.errors">
      <ng-container [ngSwitch]="email?.errors | firstkey">
        <div *ngSwitchCase="'required'">
          Please enter email
        </div>
        <div *ngSwitchCase="'email'">
          Please enter a valid email
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Password -->
  <div class="mb-3">
    <input
      type="password"
      class="form-control bg-body-secondary"
      placeholder="******"
      formControlName="password"
    />
    <div class="error-feedback text-danger mt-1"
      *ngIf="password?.touched && password?.errors">
      <ng-container [ngSwitch]="password?.errors | firstkey">
        <div *ngSwitchCase="'required'">
          Please enter password
        </div>
        <div *ngSwitchCase="'minlength'">
          Password must be at least 6 characters
        </div>
        <div *ngSwitchCase="'pattern'">
          Password must contain at least one special character
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Confirm Password -->
  <div class="mb-3">
    <input
      type="password"
      class="form-control bg-body-secondary"
      placeholder="******"
      formControlName="confirmPassword"
    />
    <div class="error-feedback text-danger mt-1"
      *ngIf="confirmPassword?.touched && (confirmPassword?.errors || form.hasError('passwordMismatch'))">
      <ng-container [ngSwitch]="getConfirmPasswordError()">
        <div *ngSwitchCase="'required'">
          Please confirm your password
        </div>
        <div *ngSwitchCase="'passwordMismatch'">
          Passwords do not match
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Submit Button -->
  <div class="mt-3">
    <button class="btn btn-success w-100 rounded-3" [disabled]="form.invalid">
      Register
    </button>
  </div>

  <!-- Success/Error Messages -->
  <div class="mt-3" *ngIf="successMessage">
    <div class="alert alert-success">{{ successMessage }}</div>
  </div>
  <div class="mt-3" *ngIf="errorMessage">
    <div class="alert alert-danger">{{ errorMessage }}</div>
  </div>
</form>